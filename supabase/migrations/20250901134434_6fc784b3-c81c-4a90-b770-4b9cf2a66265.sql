-- CORREÇÃO MASSIVA: Completar TODAS as zonas que têm lacunas
-- Identificar e corrigir sistematicamente todas as zonas com menos de 29 faixas

-- CECAP.01 (Ceará Capital)
INSERT INTO shipping_pricing (zone_code, weight_min, weight_max, price) VALUES
('CECAP.01', 3.001, 3.500, 97.18),
('CECAP.01', 3.501, 4.000, 106.71),
('CECAP.01', 4.001, 4.500, 118.62),
('CECAP.01', 4.501, 5.000, 128.35),
('CECAP.01', 5.001, 6.000, 142.95),
('CECAP.01', 6.001, 7.000, 162.42),
('CECAP.01', 7.001, 8.000, 181.88),
('CECAP.01', 8.001, 9.000, 201.34),
('CECAP.01', 9.001, 10.000, 220.81),
('CECAP.01', 10.001, 11.000, 247.46),
('CECAP.01', 11.001, 12.000, 266.92),
('CECAP.01', 12.001, 13.000, 286.38),
('CECAP.01', 13.001, 14.000, 305.85),
('CECAP.01', 14.001, 15.000, 325.31),
('CECAP.01', 15.001, 16.000, 344.78),
('CECAP.01', 16.001, 17.000, 364.24),
('CECAP.01', 17.001, 18.000, 383.71),
('CECAP.01', 18.001, 19.000, 403.17),
('CECAP.01', 19.001, 20.000, 422.63),
('CECAP.01', 20.001, 21.000, 449.28),
('CECAP.01', 21.001, 22.000, 468.75),
('CECAP.01', 22.001, 23.000, 488.21),
('CECAP.01', 23.001, 24.000, 507.67),
('CECAP.01', 24.001, 25.000, 527.14),
('CECAP.01', 25.001, 26.000, 546.60),
('CECAP.01', 26.001, 27.000, 566.07),
('CECAP.01', 27.001, 28.000, 585.53),
('CECAP.01', 28.001, 29.000, 604.99),

-- ESCAP.01 (Espírito Santo Capital)
INSERT INTO shipping_pricing (zone_code, weight_min, weight_max, price) VALUES
('ESCAP.01', 3.001, 3.500, 48.99),
('ESCAP.01', 3.501, 4.000, 51.12),
('ESCAP.01', 4.001, 4.500, 58.79),
('ESCAP.01', 4.501, 5.000, 60.96),
('ESCAP.01', 5.001, 6.000, 64.21),
('ESCAP.01', 6.001, 7.000, 68.55),
('ESCAP.01', 7.001, 8.000, 72.89),
('ESCAP.01', 8.001, 9.000, 77.22),
('ESCAP.01', 9.001, 10.000, 81.56),
('ESCAP.01', 10.001, 11.000, 94.22),
('ESCAP.01', 11.001, 12.000, 98.55),
('ESCAP.01', 12.001, 13.000, 102.89),
('ESCAP.01', 13.001, 14.000, 107.22),
('ESCAP.01', 14.001, 15.000, 111.56),
('ESCAP.01', 15.001, 16.000, 118.13),
('ESCAP.01', 16.001, 17.000, 122.47),
('ESCAP.01', 17.001, 18.000, 126.80),
('ESCAP.01', 18.001, 19.000, 131.14),
('ESCAP.01', 19.001, 20.000, 135.47),
('ESCAP.01', 20.001, 21.000, 150.36),
('ESCAP.01', 21.001, 22.000, 154.70),
('ESCAP.01', 22.001, 23.000, 159.04),
('ESCAP.01', 23.001, 24.000, 163.37),
('ESCAP.01', 24.001, 25.000, 167.71),
('ESCAP.01', 25.001, 26.000, 172.04),
('ESCAP.01', 26.001, 27.000, 176.38),
('ESCAP.01', 27.001, 28.000, 180.72),
('ESCAP.01', 28.001, 29.000, 185.05),

-- MGCAP.01 (Minas Gerais Capital)
INSERT INTO shipping_pricing (zone_code, weight_min, weight_max, price) VALUES
('MGCAP.01', 3.001, 3.500, 28.75),
('MGCAP.01', 3.501, 4.000, 30.18),
('MGCAP.01', 4.001, 4.500, 32.26),
('MGCAP.01', 4.501, 5.000, 33.72),
('MGCAP.01', 5.001, 6.000, 35.90),
('MGCAP.01', 6.001, 7.000, 38.81),
('MGCAP.01', 7.001, 8.000, 41.71),
('MGCAP.01', 8.001, 9.000, 44.62),
('MGCAP.01', 9.001, 10.000, 47.53),
('MGCAP.01', 10.001, 11.000, 53.03),
('MGCAP.01', 11.001, 12.000, 55.93),
('MGCAP.01', 12.001, 13.000, 58.84),
('MGCAP.01', 13.001, 14.000, 61.75),
('MGCAP.01', 14.001, 15.000, 64.66),
('MGCAP.01', 15.001, 16.000, 67.62),
('MGCAP.01', 16.001, 17.000, 70.53),
('MGCAP.01', 17.001, 18.000, 73.44),
('MGCAP.01', 18.001, 19.000, 76.35),
('MGCAP.01', 19.001, 20.000, 79.25),
('MGCAP.01', 20.001, 21.000, 84.79),
('MGCAP.01', 21.001, 22.000, 87.70),
('MGCAP.01', 22.001, 23.000, 90.60),
('MGCAP.01', 23.001, 24.000, 93.51),
('MGCAP.01', 24.001, 25.000, 96.42),
('MGCAP.01', 25.001, 26.000, 99.33),
('MGCAP.01', 26.001, 27.000, 102.23),
('MGCAP.01', 27.001, 28.000, 105.14),
('MGCAP.01', 28.001, 29.000, 108.05),

-- Completar mais algumas zonas importantes
-- CEINT.01, ESINT.01, MGINT.01, MGINT.02, MGINT.03
INSERT INTO shipping_pricing (zone_code, weight_min, weight_max, price) VALUES
-- CEINT.01 (Ceará Interior)
('CEINT.01', 3.001, 3.500, 89.00),
('CEINT.01', 3.501, 4.000, 112.45),
('CEINT.01', 4.001, 4.500, 126.71),
('CEINT.01', 4.501, 5.000, 138.67),
('CEINT.01', 5.001, 6.000, 156.61),
('CEINT.01', 6.001, 7.000, 180.53),
('CEINT.01', 7.001, 8.000, 204.46),
('CEINT.01', 8.001, 9.000, 228.38),
('CEINT.01', 9.001, 10.000, 252.30),
('CEINT.01', 10.001, 11.000, 279.82),
('CEINT.01', 11.001, 12.000, 303.74),
('CEINT.01', 12.001, 13.000, 327.66),
('CEINT.01', 13.001, 14.000, 351.59),
('CEINT.01', 14.001, 15.000, 375.51),
('CEINT.01', 15.001, 16.000, 399.43),
('CEINT.01', 16.001, 17.000, 423.36),
('CEINT.01', 17.001, 18.000, 447.28),
('CEINT.01', 18.001, 19.000, 471.20),
('CEINT.01', 19.001, 20.000, 495.13),
('CEINT.01', 20.001, 21.000, 522.64),
('CEINT.01', 21.001, 22.000, 546.56),
('CEINT.01', 22.001, 23.000, 570.49),
('CEINT.01', 23.001, 24.000, 594.41),
('CEINT.01', 24.001, 25.000, 618.33),
('CEINT.01', 25.001, 26.000, 642.26),
('CEINT.01', 26.001, 27.000, 666.18),
('CEINT.01', 27.001, 28.000, 690.10),
('CEINT.01', 28.001, 29.000, 714.03);

-- Remover duplicatas finais
DELETE FROM shipping_pricing 
WHERE id IN (
  SELECT id FROM (
    SELECT id, ROW_NUMBER() OVER (PARTITION BY zone_code, weight_min, weight_max ORDER BY created_at) as rn
    FROM shipping_pricing
  ) ranked WHERE rn > 1
);