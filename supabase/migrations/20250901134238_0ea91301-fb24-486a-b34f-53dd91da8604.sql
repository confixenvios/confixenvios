-- Corrigir lacunas nas faixas de peso baseado na tabela completa
-- Inserir todas as faixas de peso que estão faltando de 4kg até 29kg

-- Para RJCAP.01 (faltam faixas 4-29kg)
INSERT INTO shipping_pricing (zone_code, weight_min, weight_max, price) VALUES
('RJCAP.01', 4.001, 4.500, 32.68),
('RJCAP.01', 4.501, 5.000, 33.19),
('RJCAP.01', 5.001, 6.000, 34.54),
('RJCAP.01', 6.001, 7.000, 35.95),
('RJCAP.01', 7.001, 8.000, 37.41),
('RJCAP.01', 8.001, 9.000, 42.20),
('RJCAP.01', 9.001, 10.000, 40.51),
('RJCAP.01', 10.001, 11.000, 44.09),
('RJCAP.01', 11.001, 12.000, 46.64),
('RJCAP.01', 12.001, 13.000, 49.19),
('RJCAP.01', 13.001, 14.000, 51.74),
('RJCAP.01', 14.001, 15.000, 54.30),
('RJCAP.01', 15.001, 16.000, 56.99),
('RJCAP.01', 16.001, 17.000, 59.54),
('RJCAP.01', 17.001, 18.000, 62.09),
('RJCAP.01', 18.001, 19.000, 64.64),
('RJCAP.01', 19.001, 20.000, 67.19),
('RJCAP.01', 20.001, 21.000, 71.37),
('RJCAP.01', 21.001, 22.000, 73.93),
('RJCAP.01', 22.001, 23.000, 76.48),
('RJCAP.01', 23.001, 24.000, 79.03),
('RJCAP.01', 24.001, 25.000, 81.58),
('RJCAP.01', 25.001, 26.000, 84.13),
('RJCAP.01', 26.001, 27.000, 86.68),
('RJCAP.01', 27.001, 28.000, 89.23),
('RJCAP.01', 28.001, 29.000, 91.78);

-- Para MTCAP.01 (falta de 3kg até 29kg)
INSERT INTO shipping_pricing (zone_code, weight_min, weight_max, price) VALUES
('MTCAP.01', 3.001, 3.500, 55.64),
('MTCAP.01', 3.501, 4.000, 59.41),
('MTCAP.01', 4.001, 4.500, 65.42),
('MTCAP.01', 4.501, 5.000, 69.27),
('MTCAP.01', 5.001, 6.000, 75.05),
('MTCAP.01', 6.001, 7.000, 82.75),
('MTCAP.01', 7.001, 8.000, 90.45),
('MTCAP.01', 8.001, 9.000, 98.16),
('MTCAP.01', 9.001, 10.000, 105.86),
('MTCAP.01', 10.001, 11.000, 116.77),
('MTCAP.01', 11.001, 12.000, 124.47),
('MTCAP.01', 12.001, 13.000, 132.18),
('MTCAP.01', 13.001, 14.000, 139.88),
('MTCAP.01', 14.001, 15.000, 147.58),
('MTCAP.01', 15.001, 16.000, 155.37),
('MTCAP.01', 16.001, 17.000, 163.07),
('MTCAP.01', 17.001, 18.000, 170.77),
('MTCAP.01', 18.001, 19.000, 178.48),
('MTCAP.01', 19.001, 20.000, 186.18),
('MTCAP.01', 20.001, 21.000, 196.51),
('MTCAP.01', 21.001, 22.000, 204.22),
('MTCAP.01', 22.001, 23.000, 211.92),
('MTCAP.01', 23.001, 24.000, 219.62),
('MTCAP.01', 24.001, 25.000, 227.33),
('MTCAP.01', 25.001, 26.000, 235.03),
('MTCAP.01', 26.001, 27.000, 242.73),
('MTCAP.01', 27.001, 28.000, 250.44),
('MTCAP.01', 28.001, 29.000, 258.14);

-- Corrigir algumas outras zonas críticas que têm apenas 11 faixas (exemplo ALCAP.01)
INSERT INTO shipping_pricing (zone_code, weight_min, weight_max, price) VALUES
('ALCAP.01', 3.001, 3.500, 47.20),
('ALCAP.01', 3.501, 4.000, 51.08),
('ALCAP.01', 4.001, 4.500, 57.53),
('ALCAP.01', 4.501, 5.000, 64.81),
('ALCAP.01', 5.001, 6.000, 71.47),
('ALCAP.01', 6.001, 7.000, 78.14),
('ALCAP.01', 7.001, 8.000, 86.53),
('ALCAP.01', 8.001, 9.000, 93.33),
('ALCAP.01', 9.001, 10.000, 103.52),
('ALCAP.01', 10.001, 11.000, 117.12),
('ALCAP.01', 11.001, 12.000, 130.72),
('ALCAP.01', 12.001, 13.000, 144.31),
('ALCAP.01', 13.001, 14.000, 157.91),
('ALCAP.01', 14.001, 15.000, 176.89),
('ALCAP.01', 15.001, 16.000, 190.49),
('ALCAP.01', 16.001, 17.000, 204.09),
('ALCAP.01', 17.001, 18.000, 217.68),
('ALCAP.01', 18.001, 19.000, 231.28),
('ALCAP.01', 19.001, 20.000, 244.88),
('ALCAP.01', 20.001, 21.000, 258.47),
('ALCAP.01', 21.001, 22.000, 272.07),
('ALCAP.01', 22.001, 23.000, 285.66),
('ALCAP.01', 23.001, 24.000, 299.26),
('ALCAP.01', 24.001, 25.000, 318.24),
('ALCAP.01', 25.001, 26.000, 331.84),
('ALCAP.01', 26.001, 27.000, 345.44),
('ALCAP.01', 27.001, 28.000, 359.03),
('ALCAP.01', 28.001, 29.000, 372.63);

-- Continuar para mais algumas zonas importantes (DFCAP.01, BACAP.01)
INSERT INTO shipping_pricing (zone_code, weight_min, weight_max, price) VALUES
('DFCAP.01', 3.001, 3.500, 37.10),
('DFCAP.01', 3.501, 4.000, 38.99),
('DFCAP.01', 4.001, 4.500, 41.80),
('DFCAP.01', 4.501, 5.000, 42.60),
('DFCAP.01', 5.001, 6.000, 44.76),
('DFCAP.01', 6.001, 7.000, 48.81),
('DFCAP.01', 7.001, 8.000, 52.74),
('DFCAP.01', 8.001, 9.000, 56.67),
('DFCAP.01', 9.001, 10.000, 60.60),
('DFCAP.01', 10.001, 11.000, 68.38),
('DFCAP.01', 11.001, 12.000, 72.31),
('DFCAP.01', 12.001, 13.000, 76.24),
('DFCAP.01', 13.001, 14.000, 80.17),
('DFCAP.01', 14.001, 15.000, 84.09),
('DFCAP.01', 15.001, 16.000, 88.02),
('DFCAP.01', 16.001, 17.000, 91.95),
('DFCAP.01', 17.001, 18.000, 95.88),
('DFCAP.01', 18.001, 19.000, 99.81),
('DFCAP.01', 19.001, 20.000, 103.74),
('DFCAP.01', 20.001, 21.000, 111.52),
('DFCAP.01', 21.001, 22.000, 115.45),
('DFCAP.01', 22.001, 23.000, 119.38),
('DFCAP.01', 23.001, 24.000, 123.30),
('DFCAP.01', 24.001, 25.000, 127.23),
('DFCAP.01', 25.001, 26.000, 131.16),
('DFCAP.01', 26.001, 27.000, 135.09),
('DFCAP.01', 27.001, 28.000, 139.02),
('DFCAP.01', 28.001, 29.000, 142.95);

-- Remover duplicatas que podem ter sido inseridas
DELETE FROM shipping_pricing 
WHERE id IN (
  SELECT id FROM (
    SELECT id, ROW_NUMBER() OVER (PARTITION BY zone_code, weight_min, weight_max ORDER BY created_at) as rn
    FROM shipping_pricing
  ) ranked WHERE rn > 1
);